<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: vancouver | Mountain Doodles]]></title>
  <link href="http://doodles.mountainmath.ca/blog/categories/vancouver/feed.atom" rel="self"/>
  <link href="http://doodles.mountainmath.ca/"/>
  <updated>2015-06-01T01:49:09-07:00</updated>
  <id>http://doodles.mountainmath.ca/</id>
  <author>
    <name><![CDATA[MountainMath]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Density in Vancouver]]></title>
    <link href="http://doodles.mountainmath.ca/blog/2015/05/31/density-in-vancouver/"/>
    <updated>2015-05-31T22:44:55-07:00</updated>
    <id>http://doodles.mountainmath.ca/blog/2015/05/31/density-in-vancouver</id>
    <content type="html"><![CDATA[<p>The other day I saw that Downtown brings in 23% of CoV tax revenue but only makes up 5% of the city area. Intrigued by that I decided to
add a &lsquo;Tax Density&rsquo; layer to my <a href="https://mountainmath.ca/map/assessment">Vancouver Assessment Map</a>.
The idea was to try and understand the tax revenue generated by different areas in Vancouver. The data is already available
in the CoV open data property dataset so it would only take half an hour to ad it to my map.</p>

<p><a href="http://mountainmath.ca/map/assessment"><img src="/images/tax_density.jpg" alt="&quot;Tax Density&quot;" /></a></p>

<p>There has been a lot of discussion around density in Vancouver. One aspect of density is that it will generally increase
the tax revenue that the city can collect per square metre. At the same time the city spending for services of the added
density increases at a much lower rate. Leaving a net gain of revenue for the city. And as property taxes are
need-based, this means lower property taxes for everyone when density increases. In short, density leads to efficiency
increases that materialize in form of lower property taxes for everyone.</p>

<p>That also points to one possible way to break some of the resistance to density increases that Vancouver currently sees.
If a neighbourhood (or smaller region) accepts density increases, maybe some of the associated increase in efficiency and benefits
of lower property taxes should be applied locally instead of everything being spread out over the entire city.</p>

<h4>So what exactly does the Tax Density layer show?</h4>

<p>The Tax Density I mapped is simply the amount of taxes collected per m&sup2;.
Under that measure, Downtown comes out at $127.1/m&sup2;, followed by the West End at $72.7/m&sup2; and Fairview at
$42.7/m&sup2;. The Vancouver average is $20/m&sup2;. For this calculation I did not count the parks doward the area of
the neighbourhoods. A complete list by neighbourhood is at the bottom.</p>

<!-- more -->


<h4>Where to go from here?</h4>

<p>I also thought about mapping the density of housing units, but sadly the data in the CoV open data catalogue is ill-suited to
do this. I can easily extract the number of tax entities and map the density of these. This works great for a traditional
single family home (one tax entity) and for stratas (one tax entity per unit), but it becomes a problem because e.g. laneway
houses and granny suites don&rsquo;t show up as separate tax entities. And it gets really bad with rental apartments, where the
whole building will be a single tax entity with potentially a very large number of units. And then the dataset does not
distinguish between commercial and residential units. That data could be reverse engineered from the tax data, but that&rsquo;s
more work than my usual half hour tolerance level for this kind of side project.</p>

<p>Another option is to use census data and merge the datasets. But that gets messy, the aggregation levels don&rsquo;t match and
this is well beyond a side project time frame.</p>

<p>Similarly, it would be interesting to map the changes in tax density and the changes in unit density in Vancouver, but
again the CoV dataset does hold the necessary information. In particular, when properties get a new tax coordinate (for
example when they get re-developed) the CoV dataset drops the old tax data associated with that physical location. This
makes it impossible to map the changes in tax density that redevelopment has brought.</p>

<p>Long story hort, if you are interested in browsing Vancouver by tax revenue collected per square meter, click through to
the <a href="https://mountainmath.ca/map/assessment">Vancouver Assessment Map</a> and select the Tax Density layer.</p>

<h2>Tax density by neighbourhood</h2>

<ol>
<li>Downtown: $127.1/m&sup2;</li>
<li>West End: $72.7/m&sup2;</li>
<li>Fairview: $42.7/m&sup2;</li>
<li>Kitsilano: $27.8/m&sup2;</li>
<li>Downtown Eastside: $26.4/m&sup2;</li>
<li>Mount Pleasant: $25.4/m&sup2;</li>
<li>Arbutus Ridge: $17.5/m&sup2;</li>
<li>Grandview-Woodland: $16.4/m&sup2;</li>
<li>West Point Grey: $16.3/m&sup2;</li>
<li>Dunbar Southlands: $15.0/m&sup2;</li>
<li>Riley Park: $14.4/m&sup2;</li>
<li>Oakridge: $13.8/m&sup2;</li>
<li>Shaughnessy: $13.5/m&sup2;</li>
<li>Kensington-Cedar Cottage: $12.8/m&sup2;</li>
<li>Renfrew-Collingwood: $12.4/m&sup2;</li>
<li>Strathcona: $12.2/m&sup2;</li>
<li>Kerrisdale: $11.9/m&sup2;</li>
<li>Marpole: $11.8/m&sup2;</li>
<li>South Cambie: $11.7/m&sup2;</li>
<li>Sunset: $11.2/m&sup2;</li>
<li>Hastings-Sunrise: $10.6/m&sup2;</li>
<li>Victoria-Fraserview: $10.0/m&sup2;</li>
<li>Killarney: $7.7/m&sup2;</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vancouver Bike Paths]]></title>
    <link href="http://doodles.mountainmath.ca/blog/2015/04/01/bike-paths/"/>
    <updated>2015-04-01T16:24:34-07:00</updated>
    <id>http://doodles.mountainmath.ca/blog/2015/04/01/bike-paths</id>
    <content type="html"><![CDATA[<p>Motivated by the excellent <a href="http://www.washingtonpost.com/blogs/wonkblog/wp/2015/04/01/bleak-maps-of-how-cities-look-using-only-their-bike-lanes/">Washington Post Wonkblog</a> I
mapped Vancouver&rsquo;s bike infrastructure. Looks good at first, but when you take out the &lsquo;fake&rsquo; &ldquo;Local Street&rdquo; bikeways more in line with Wonkblog&rsquo;s methodology it&rsquo;s looking pretty
bleak in large portions of the city.</p>

<p>Of course the devil is in the details and infrastructure cannot just be judged by how it&rsquo;s labeled. If one were to look for 8-80 infrastructure, then the separated lanes
would make the cut. Some of the bike lanes would be marginal, but most would probably make the cut. Although I can&rsquo;t say that I would be particularly keen to let an 8yo cycle on
some of them.</p>

<p>Vancouver&rsquo;s &ldquo;Shared Lanes&rdquo; are not for the faint of heart. They have 50 speed limits on multi-lane roadways
and feature sharrows to make it a little easier for cyclists to &lsquo;take the lane&rsquo;. In some cases cyclists share a lane with
the buses, which is a little better.</p>

<p>The local streets are mostly car tunnels like the &lsquo;Off-Broadway&rsquo; and won&rsquo;t qualify as 8-80, but there are some exceptions like
the local street portion of Pt. Grey Rd, where cycling is rather pleasant.</p>

<iframe src="http://doodles.mountainmath.ca/bike_paths.html?fh=50&nh=true" width="100%" height="580"></iframe>


<p><a href="/bike_paths.html">Full screen view</a></p>

<p>Methodology is simple, it&rsquo;s just the city&rsquo;s bike path data from <a href="http://vancouver.ca/your-government/open-data-catalogue.aspx">their open data catalogue</a>. The data
comes with two fields, &lsquo;name&rsquo; and &lsquo;type&rsquo;. The &lsquo;type&rsquo; was used for the checkboxes at the bottom to selectively turn different
bike lane types on or off and the &lsquo;name&rsquo; will be displayed on hover.</p>

<h3>Update</h3>

<h4>Some more <strike>Canadian</strike> cities:</h4>

<p><a href="http://doodles.mountainmath.ca/bike_paths?city=Calgary,street&amp;type=BICYCLE_CL&amp;dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson">Calgary on street</a>,
<a href="http://doodles.mountainmath.ca/bike_paths?city=Calgary,pathways&amp;type=PRIORITY&amp;name=LOCATION_D&amp;dataUrl=http://doodles.mountainmath.ca/data/YYC_Path_BikeRoutes.geojson">Calgary pathways</a>,
<a href="http://doodles.mountainmath.ca/bike_paths?city=Calgary,trails&amp;type=TYPE_DESCR&amp;name=LOCATION_D&amp;dataUrl=http://doodles.mountainmath.ca/data/YYC_Trail_BikeRoutes.geojson">Calgary trails</a>,
<a href="http://doodles.mountainmath.ca/bike_paths?city=Victoria&amp;type=FullDescr&amp;dataUrl=http://doodles.mountainmath.ca/data/VicBikeRoutes.geojson">Victoria</a>,
<a href="http://doodles.mountainmath.ca/bike_paths?city=Montreal&amp;name=PROJET_NOM&amp;dataUrl=http://doodles.mountainmath.ca/data/MontrealBikeRoutes.geojson">Montreal</a>,
<a href="http://doodles.mountainmath.ca/bike_paths?city=Toronto&amp;type=CP_TYPE&amp;dataUrl=http://doodles.mountainmath.ca/data/TorontoBikeRoutes.geojson">Toronto</a>
<a href="http://doodles.mountainmath.ca/bike_paths?city=Portland&amp;type=FACILITYDE&amp;name=SEGMENTNAM&amp;dataUrl=http://doodles.mountainmath.ca/data/PDXBikeRoutes.geojson">Portland</a>
<a href="http://doodles.mountainmath.ca/bike_paths?city=NYC&amp;type=TF_Facilit&amp;name=Street&amp;fh=65&amp;dataUrl=http://doodles.mountainmath.ca/data/NYCBikeRoutes.geojson">NYC</a>
<a href="http://doodles.mountainmath.ca/bike_paths?city=Amsterdam&amp;type=HIGHWAY&amp;name=WIDTH&amp;dataUrl=http://doodles.mountainmath.ca/data/AmsterdamBikeRoutes.geojson">Amsterdam</a>
<a href="http://doodles.mountainmath.ca/bike_paths?city=Taipei&amp;name=RDNAME&amp;dataUrl=http://doodles.mountainmath.ca/data/TPEBikeRoutes.geojson">Taipei</a></p>

<p>A word of caution. I have done zero data cleaning or verification. Some of these maps are missing some type of infrastructure.
I am familiar with cycling conditions in Calgary, and their the extensive network along the river and other areas are missing in their main file.
I added two more separate maps for their trails and pathways, but was too lazy to merge them. For Taipei, I noticed that
the off-street paths along streets are missing, for example the one on Dunhua Bei Lu that I was using a lot a year ago. Not sure if or where these are available.
So some more ground truth is needed for proper interpretation. But fun anyway.</p>

<p>Want to map another city&rsquo;s data? No problem, just read on.</p>

<!-- more -->


<ol>
<li>Locate the city&rsquo;s bikeway data and download it.</li>
<li>Convert the data to geojson, with coordinates in latitude and longitude.</li>
<li>Put the geojson file online somewhere, e.g. your public dropbox folder.</li>
<li>Optionally look at the geojson file for a bikeway type descriptor and bikeway name, if available.</li>
<li>Build a url for your map by using [<a href="http://doodles.mountainmath.ca/bike_paths">http://doodles.mountainmath.ca/bike_paths</a>] as a base url and add query strings

<ul>
<li><code>dataUrl=&lt;url to your geojson&gt;</code></li>
<li><code>city=&lt;city name&gt;</code></li>
<li>optionally <code>type=&lt;bikeway type property&gt;</code></li>
<li>optionally <code>name=&lt;bikeway name property&gt;</code></li>
<li>optionally <code>zoom=true</code> if you want to be able to zoom and pan on the map</li>
</ul>
</li>
</ol>


<p>For example, to map Calgary&rsquo;s bike network you need to <a href="https://data.calgary.ca/opendata/Pages/DatasetListingAlphabetical.aspx#C">got to their open data website</a> and
download the Tranportation Bikeways shapefiles (SHP). To convert them go geojson using <code>ogr2ogr</code></p>

<pre><code>ogr2ogr -f GeoJSON -simplify 1 -s_srs CALGIS_TRAN_BIKEWAY.prj -t_srs "EPSG:4326" CALGIS_TRAN_BIKEWAY.geojson CALGIS_TRAN_BIKEWAY.shp
</code></pre>

<p>from the <a href="http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries">GDAL package</a>.</p>

<p>I uploaded the geojson to <code>http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson</code>, so that will be the value of the <code>dataUrl</code> query string.</p>

<p>Looking at the resulting geojson file you will see that the data does not include bikeway names, but it does include
types and the property is called <code>BICYCLE_CL</code>.</p>

<p>The rather lengthy link to the map would then be
<a href="http://doodles.mountainmath.ca/bike_paths?city=Calgary&amp;type=BICYCLE_CL&amp;dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson">http://doodles.mountainmath.ca/bike_paths?city=Calgary&amp;type=BICYCLE_CL&amp;dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson</a></p>

<iframe src="http://doodles.mountainmath.ca/bike_paths?city=Calgary&type=BICYCLE_CL&fh=50&nh=true&dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson" width="100%" height="580"></iframe>


<p>Or if you want to zoom into Calgary&rsquo;s sprawling suburbs, you could also enable zooming (using double-click) and panning
<a href="http://doodles.mountainmath.ca/bike_paths?city=Calgary&amp;type=BICYCLE_CL&amp;zoom=true&amp;dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson">http://doodles.mountainmath.ca/bike_paths?city=Calgary&amp;type=BICYCLE_CL&amp;zoom=true&amp;dataUrl=http://doodles.mountainmath.ca/data/CALGIS_TRAN_BIKEWAY.geojson</a></p>

<p>Happy Mapping!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vancouver Assessment Data]]></title>
    <link href="http://doodles.mountainmath.ca/blog/2015/03/23/vancouver-assessment-data/"/>
    <updated>2015-03-23T16:20:43-07:00</updated>
    <id>http://doodles.mountainmath.ca/blog/2015/03/23/vancouver-assessment-data</id>
    <content type="html"><![CDATA[<p>The City of Vancouver has recently
updated <a href="http://vancouver.ca/your-government/open-data-catalogue.aspx">their open data catalogue</a> with historic tax
data. We figured that would
be a good time to take our previous rather clumsy attempts to map tax data and polish that up a bit.</p>

<p>This time we put in a couple of evenings to build a more responsive map with multiple options of what to map. Head
straight for <a href="http://mountainmath.ca/map/assessment">&lsquo;the map&rsquo;</a> or read on for some background information, including
some methodology on data cleaning and interpolation.</p>

<p><a href="http://mountainmath.ca/map/assessment"><img src="/images/land_value.jpg" alt="&quot;Land Values&quot;" /></a></p>

<!-- more -->


<p>Our previous <a href="/teardown_map.html">&lsquo;teardown map&rsquo;</a> and <a href="/teardown_map.html">&lsquo;high value map&rsquo;</a> suffered from being a static
websites, and they loaded large amounts of data all at once, 30,000 properties for the teardown map, and display
the all at once. Options were limited for displaying more detailed data when selecting individual properties.
For the viewer this resulted more in an exercise of patience than in an &lsquo;interactive&rsquo; experience.</p>

<p>We decided to remedy this by importing the CoV data into a database and chop the data up dynamically and serve it as vector tiles.
For smaller zoom levels we aggregated data at the block level. There are lots of blocks in Vancouver, 4444 that contain
properties with tax information to be precise. So again the map is a little sluggish on mobile devices and slower machines when zoomed out,
but things get much faster as we zoom in.</p>

<p>Moreover, we now have the ability to easily display more detailed information once the use selects an individual
property or block aggregate. We can display a graph with the development of land and building values and other details.
And we integrated google streetview for good measure.</p>

<p>One issue that came up is that CoV historical data has lots of gaps. For example, when a particular property was
re-developed it gets a new tax number. The tax information for the old property is lost and cannot be connected to the
geographic site using the information provided by CoV. So when we display data showing &lsquo;value change&rsquo; between
2006 and 2014 we color these properties in grey. This problem persists when we aggregate information at the block level.
To avoid greying out lots of blocks we extrapolate the missing data by using citywide averages on growth rates
of land and building values for the properties in question. This will likely underestimate the aggregate growth in building
and land value, but will not have a big impact at the block level if the individual property value in question was
comparatively small. But this was not always the case. Better analysis could solve some of these issues, so does
zooming in to the individual property level.</p>

<p>Another issue is that CoV does not provide historic zoning information. It would be interesting to get historic zoning
and development permit information. Some of this data is already available, albeit not in an easily consumable form.</p>

<p>Other than that a big thanks to the folks maintaining the CoV open data catalogue!</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mapping CACs]]></title>
    <link href="http://doodles.mountainmath.ca/blog/2014/11/05/mapping-cacs/"/>
    <updated>2014-11-05T12:03:25-08:00</updated>
    <id>http://doodles.mountainmath.ca/blog/2014/11/05/mapping-cacs</id>
    <content type="html"><![CDATA[<p>After reading the <a href="http://pricetags.wordpress.com/2014/11/04/the-daily-durning-back-and-forth-on-cacs/">post on Price Tags</a>,
originally from <a href="http://karensawatzky.ca/2014/10/29/7868/">Karen Sawatzky&rsquo;s blog</a>, I got curious about getting a
geographic overview over the CACs in Vancouver in 2010, 2011 and 2012.</p>

<p>As opposed to the <a href="/blog/2014/09/05/vancouver-teardown-map/">teardown map</a> the dataset is quite small, so there should
be no problems viewing this on a mobile device. As always, map is below the fold.</p>

<!-- more -->


<p>Some of the property addresses did not match any address in the CoV open data property database, probably because the
developments are quite new and new addresses got assigned. In these cases I mapped the CAC property to a nearby property
and added the &lsquo;Mapped Address&rsquo; field in the info pane. Enjoy.</p>

<iframe src="http://doodles.mountainmath.ca/cac_map.html" width="100%" height="500"></iframe>


<p><a href="/cac_map.html">Full screen view</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vancouver High Value Improvements Map]]></title>
    <link href="http://doodles.mountainmath.ca/blog/2014/09/07/vancouver-high-value-improvements-map/"/>
    <updated>2014-09-07T22:11:08-07:00</updated>
    <id>http://doodles.mountainmath.ca/blog/2014/09/07/vancouver-high-value-improvements-map</id>
    <content type="html"><![CDATA[<p>After the <a href="/blog/2014/09/05/vancouver-teardown-map/">teardown map</a> that looked at the low end of Vancouver&rsquo;s building
stock, a natural question is to look at the high end. Just as before, we are focusing on the (assessed) value of the
building relative to the total (assessed) value of land and improvements. We defined &ldquo;highly improved&rdquo; properties to
be properties where the ratio is at least 50%, so the building is worth at least as much as the land it is built on.</p>

<p>That&rsquo;s actually a pretty high bar in Vancouver, less than 1500 buildings pass that muster. And in concordance with the
teardown map, the &ldquo;high value improvements&rdquo; seem to concentrate in downtown. See the map below the fold
to explore for yourself.</p>

<!-- more -->


<p>When browsing the map it becomes clear that some properties have &ldquo;high value improvements&rdquo; because of an abnormally low
land value, rather than an abnormally high improvement value. This is probably due to intricacies of zoning in Vancouver
that maybe someone else can shed some light on.</p>

<iframe src="http://doodles.mountainmath.ca/improvement_map.html" width="100%" height="500"></iframe>


<p><a href="/improvement_map.html">Full screen view</a></p>
]]></content>
  </entry>
  
</feed>
