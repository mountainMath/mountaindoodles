
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Lifeblood - Mountain Doodles</title>
  <meta name="author" content="MountainMath">

  
  <meta name="description" content="2011/2016 Census Data">
  <meta name="keywords" content="stats canada, CensusMapper">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://doodles.mountainmath.ca/blog/2017/05/16/lifeblood/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="//d3js.org/d3.v3.min.js" charset="utf-8"></script>
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/feed.atom" rel="alternate" title="Mountain Doodles" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-54516567-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mountain Doodles</a></h1>
  
    <h2>spare time data, analysis, visualization</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/feed.atom" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="site:doodles.mountainmath.ca" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
    <li><a href="/">Blog</a></li>
    <li><a href="/about/">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Lifeblood</h1>
    
    
      <p class="meta">
        








  


<time datetime="2017-05-16T13:52:05-07:00" pubdate data-updated="true"></time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p><a href="https://censusmapper.ca/maps/731"><img src="/images/net_animated.gif" style="width:50%;float:right;margin-left:10px;"></a>
Ever since that <a href="https://www.bloomberg.com/news/articles/2016-03-14/millennials-flee-vancouver-for-cities-with-more-affordable-homes">Bloomberg article whose claims nobody could reproduce</a>,
where the author refused to disclose what data was used, but that
got recycled all across the local press there has been a hightened interest
in migration patterns in Vancouver. Nathan Lauster took it upon himself to
dig deeper and look if <a href="https://homefreesociology.wordpress.com/2016/02/12/is-the-lifeblood-of-vancouver-leaving/">Vancouver&rsquo;s lifeblood was really leaving</a>,
which he kept elaborating on as better data became available until the
<a href="https://homefreesociology.wordpress.com/2017/05/05/good-age-specific-net-migration-estimates-come-in-threes/">most recent iteration</a>
that compares Metro Vancouver to other Candian metropolitan areas as well
as the City of Vancouver to other cities within Metro Vancouver using 2016 census data.</p>

<p>This is seriously good work and we thought it would be helpful to reproduce Lauster&rsquo;s methods
in CensusMapper. The result is a series of maps, one for each five-year age cohort, that
visualized net migration of the cohort geographically, while hovering over a
region reproduces Lauster&rsquo;s net migration bar graph for that region.</p>

<!-- more -->


<p>With CensusMapper, we instantly get the ability to dig into areas to observe
finer net migration patterns, and to pan across the country to compare different
regions.</p>

<p>For Metro Vancouver, we can see how we have strong net in-migration in all younger
cohorts, including children. And as Lauster observed, we see a net out-migration
of 50 to 60 year olds.</p>

<p>For the City of Vancouver we see a net in-migration for 5 to 30 year olds, with
basically all other age groups exhibiting net out-migration. This is echoed by
Burnaby and New Westminster, and to a lesser extend Richmond. We can zoom in
further to the Census Tract level to observe spacial patterns of net migration
at the sub-municipal level. There we see that net migration of the under 5 cohort
and the 20 to 24 cohort are almost exact mirror images. The strongest signal
comes from the town centres of the region, that get flooded as the 20 to 24 year
old cohort ages into the 25 to 29 year old cohort. As they form families and have kids,
the flood reverses and as many children that under 5 that lived in these areas don&rsquo;t
live there any more when they advance to the 5 to 9 cohort.</p>

<p>Sadly we don&rsquo;t have common tiles for other censuses that would allow for hassle-free
comparisons to detect changes over time. (It&rsquo;s a surprising amount of work
to get those common tilings right.) But we can compare this pattern to other
population centres in Canada, and this trend seems to hold true universally.</p>

<div class="half-image"><img src="/images/net_van.png" ><p>Vancouver</p></div>


<div class="half-image"><img src="/images/net_tor.png" ><p>Toronto</p></div>


<div class="half-image"><img src="/images/net_mon.png" ><p>Montreal</p></div>


<div class="half-image"><img src="/images/net_cal.png" ><p>Calgary</p></div>


<p>Metro Vancouver as a region certainly looks quite healthy in terms of the net migration of it&rsquo;s age groups.
The migration patterns within the region also seem to be consistent with other population centres in Canada.
These alone, at least at the qualitative level that we are mapping, does not seem to explain the
prevalent feeling of millennials &ldquo;fleeing&rdquo; Vancouver. Maybe a more quantitative approach could
dig up more. Or it could be that families moving away from the central regions is generally
perceived as a &ldquo;move up&rdquo; in most cities, but in Vancouver it is viewed as &ldquo;moving down&rdquo;.</p>

<h3>Technical Details</h3>

<h4>Common Geographies</h4>

<p>The first (and biggest) problem is that the 2011 and 2016 census geographies
don&rsquo;t necessarily match up. But we <a href="http://doodles.mountainmath.ca/blog/2017/03/22/comparing-censuses/">solved that problem</a>
for the 2011 and 2016 censuses.</p>

<h4>Easier said than done</h4>

<p>The devil is of course always in the details, and as usual it is not until
one has reproduced something until one can fully appreciate the work that
went into the original piece. There were two main challenges for us to
reproduce this within CensusMapper.</p>

<h4>The basics</h4>

<p>What is net migration? To compute the net migration for an age group,
say the &ldquo;under 5&rdquo; (in 2011) age group, we want to compare them to an age
group in 2016. To do that we need to &ldquo;age them forward&rdquo;. Children that were
under 5 in 2011 were 5 to 9 years old in 2016. But some, in the case of
the under 5 age group only a very small fraction, won&rsquo;t have lived to 2016.
So we need to subtract those out. More formally, we need to apply the
apporpriate mortality rates as we age them forward. Then we compare
the aged-forward group to the 5 to 9 year old cohort that the 2016 census
counted, and we divide by the size of the original under 5 year old cohort
(from 2011) to get the percentage net migration.</p>

<h4>Mortality</h4>

<p>This basic fact of life makes net migration really tricky to get right.
Once we get into the older age groups, and thus higher mortality rates,
the process is extremely sensitive to changes in the mortality rates. In
CensusMapper we are using effective mortality rates of 5 year cohorts from
<a href="http://www5.statcan.gc.ca/cansim/a26?lang=eng&amp;id=1020504">CANSIM</a> for
Canada as a whole and the provinces and territories. A fair amount of
massaging is needed to make sure this works properly, in particular it
is important to interpolate the effective mortality rates as we age a
cohort forward. And one should recognise that the mortality rates are
based on the age at death, but that an age cohort in the census is, on average,
already half way through a given year in their life.</p>

<p>Additionally, there is little reason to believe that there is no geographic
variation in mortality rates within the provinces. To deal with that we
decided to add an uncertainty band to the graph that allows for a 5%
variation in mortality rates.</p>

<h4>Uncertainty</h4>

<p>The next issue is that census data underwent random rounding to an adjacent
number that&rsquo;s divisible by 5, which leads to an expected error of 1.6.
(Actual rounding gives an expected error of 1.2.)
When taking differences between censuses, that yields an expected error of 2.2.
Additionally, we don&rsquo;t know the actual number of people in each age group,
just the one the census found. The &ldquo;census undercount&rdquo; can be quite
sizable. Overall it is around 3%, but it varies by age group and geography.</p>

<p>To deal with this we add an error term of a mis-count of 5 people that
also shows up in our error bars in the graph.</p>

<h4>Fine geographies</h4>

<p>CensusMapper is great for exploring all geographic levels. But that can
lead to problems when our age cohorts become small in size. We divide
by the size of the original 2011 age group cohort, and to avoid running
into small denominator issues we cut our estimates off when there are
fewer than 50 people in a cohort. Our error bars partially take care of
this issue, but at 50 people our error bar already spans 10% points of
net migration on either side of the computed value, showing values with
even larger error bars is likely to do more harm than good.</p>

<script>
function resetImages(){
    $('img').each(function(img){
        imgsrc = $(img).attr('src');
        if (imgsrc.slice(imgsrc.length-4)=='.gif') {
            $(img).attr('src', '');
            $(img).attr('src', imgsrc);

        }
    });
    setTimeout(function(){
        resetImages();
    },35000);
}
setTimeout(function(){
    resetImages();
},35000);
</script>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">MountainMath</span></span>

      








  


<time datetime="2017-05-16T13:52:05-07:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/canada/'>canada</a>, <a class='category' href='/blog/categories/census/'>census</a>, <a class='category' href='/blog/categories/censusmapper/'>censusmapper</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://doodles.mountainmath.ca/blog/2017/05/16/lifeblood/" data-via="vb_jens" data-counturl="http://doodles.mountainmath.ca/blog/2017/05/16/lifeblood/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2017/04/10/surprise/" title="Previous Post: Surprise Maps">&laquo; Surprise Maps</a>
      
      
        <a class="basic-alignment right" href="/blog/2017/08/06/millennials-redux/" title="Next Post: Millennials Redux">Millennials Redux &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/08/24/dot-density/">dot-density</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/23/density/">Density</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/06/millennials-redux/">Millennials Redux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/16/lifeblood/">Lifeblood</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/04/10/surprise/">Surprise Maps</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/04/03/joyce-collingwood/">Marine Gateway and Joyce-Collingwood</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/03/22/comparing-censuses/">Comparing Censuses</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/03/06/rs-population-change/">RS Population Change</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/03/01/transit-explorer/">Transit Explorer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/02/21/more-on-teardowns/">More on Teardowns</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  
  <a class="twitter-timeline" href="https://twitter.com/vb_jens" data-widget-id="680989637721063424">Tweets by @vb_jens</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - MountainMath -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a>.</span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'doodlesmountainmathca';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://doodles.mountainmath.ca/blog/2017/05/16/lifeblood/';
        var disqus_url = 'http://doodles.mountainmath.ca/blog/2017/05/16/lifeblood/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
